from urllib import parse


def get(category, feature):
    switch = {
        'feature': extract_feature,
        'permission': extract_permission,
        'activity': extract_activity,
        'service_receiver': extract_service_receiver,
        'provider': extract_provider,
        'service': extract_service,
        'intent': extract_intent,
        'api_call': extract_api_call,
        'real_permission': extract_permission,
        'call': extract_call,
        'url': extract_url
    }
    return switch[category](feature)


def extract_url(url):
    try:
        return parse.urlsplit(url).netloc
    except:
        return ""


# Extract api_call
def extract_api_call(call):
    try:
        return call.replace(';->', '/').lower()
    except:
        return ""


# Extract feature
def extract_feature(feature):
    try:
        return feature.split('.')[-1].lower()
    except:
        return ""


# Extract permission and real_permission
def extract_permission(real_permission):
    try:
        return real_permission.split('.')[-1].lower()
    except:
        return ""


# Extract call
def extract_call(call):
    try:
        return call.lower()
    except:
        return ""


# Extract activity
def extract_activity(activity):
    try:
        return activity.split('.')[-1].lower()
    except:
        return ""


# Extract intent
def extract_intent(intent):
    try:
        return intent.split('.')[-1].lower()
    except:
        return ""


# Extract service_receiver
def extract_service_receiver(service_receiver):
    try:
        service_receiver.split('.')[-1].lower()
    except:
        return ""


# Extract service_receiver
def extract_service(service_receiver):
    try:
        return service_receiver.lower()
    except:
        return ""


# Extract provider
def extract_provider(provider):
    try:
        return provider.split('.')[-1].lower()
    except:
        return ""
